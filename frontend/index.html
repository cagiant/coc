<!--index page with element ui-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <!-- import CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui@2.13.0/lib/theme-chalk/index.css">
</head>
<body>
<div id="appMain" v-cloak>
    <el-menu :default-active="activeIndex" class="el-menu-demo" mode="horizontal" @select="handleSelect">
        <el-menu-item index="1">
            <router-link to="/currentWar" tag="li">
                <span>战争信息</span>
            </router-link>
        </el-menu-item>
        <el-submenu index="2">
            <template slot="title">信息汇总</template>
            <el-menu-item index="2-1">
                <router-link to="/leagueGroupStatistics" tag="li">
                    <span>联赛统计</span>
                </router-link>
            </el-menu-item>
            <el-menu-item index="2-2">
                <router-link to="/clanWarStatistics" tag="li">
                    <span>部落战统计</span>
                </router-link>
            </el-menu-item>
            <el-menu-item index="2-3">
                <router-link to="/donationStatistics" tag="li">
                    <span>捐兵统计</span>
                </router-link>
            </el-menu-item>
        </el-submenu>
    </el-menu>
    <div>
        <router-view></router-view>
    </div>
</div>
</body>
<script src="https://unpkg.com/axios@0.18.0/dist/axios.js"></script>
<!-- import Vue before Element -->
<script src="https://unpkg.com/vue@2.5.17/dist/vue.js"></script>
<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui@2.13.0/lib/index.js"></script>

<script src="/frontend/components/current_war.js"></script>
<script>
    const routes = [
        { path: '/currentWar', name: 'currentWarPage', component: CurrentWarPage},
    ];

    const router = new VueRouter({
        routes
    });

    new Vue({
        el: '#appMain',
        router,
        data: function() {
            return {
                activeIndex: '1',
            }
        },
        methods: {
            handleSelect(key, keyPath) {
                console.log(key, keyPath);
            },
            infoError(msg, duration = 3) {
                this.$message.error({
                    message: msg,
                    duration: duration,
                });
            },
        },
        created() {
            router.push({
                name: 'currentWarPage',
            }).catch(err => {});
        }
    })
</script>
</html>